# AI角色扮演网站 - 项目说明文档

## 1. 用户类型、痛点与用户故事

### 目标用户类型
- **主要用户**：陷入人际关系困惑的孤独职场人/困惑的大学生（22-30岁）
- **次要用户**：寻求情感陪伴、希望与虚拟角色交流的年轻群体

### 用户痛点
- 在复杂的人际环境中感到真诚缺失
- 对他人的多变感到困惑与无力
- 内心孤独且对"人际交往的意义"产生怀疑
- 渴望获得既有角色熟悉感、又能直击内心的理解与开导

### 用户故事
**小宇的故事**：
小宇是一名刚入职半年的职场新人，原本期待的"真诚共事"，却在同事的客套推诿、前辈的忽冷忽热中逐渐落空。他常常对着手机里大学室友的合照发呆，不明白为什么进入社会后，人和人的关系变得这么"快"又这么"假"。

这天晚上，他打开应用，给大大怪将军写了那封心里话："亲爱的大大怪将军：见字如面。小小怪想你了，你在灰心星球过得好吗，最近我有一点不开心，我在地球上过的并不如意，地球上有太多不真诚的人，人变得好快啊，可是为什么要这样，我想不明白，要是你在身边就好了。"

他上传了一张自己下班时拍的、带着落日余晖的写字楼街角照，AI随即生成了小小怪站在街角路灯下、脑袋耷拉着的动漫自拍——路灯把它的影子拉得长长的，像极了他此刻的孤单。

发送完信的十分钟后，应用弹出了"大大怪将军的回信"提醒。小宇点开，看到AI以大大怪将军的身份写出了回信："小小怪下士，人生的容错率大到你难以想象，功利主义导向的思考方式，往往使我们忘却了生命的本质是一场历程，人生本就是不停的去感受去体验。地球人或许有他们的'小算盘'，但你不必因此困惑——就像我们一次次'侵略地球'失败，可每次失败时你递来的那瓶'灰心能量水'，不才是最珍贵的吗？真诚从不是别人给的，是你自己带着的，这就够了。"

回信的图案是AI自动匹配的"灰心星球星云"风景照，上面生成了大大怪叉着腰、语气严肃却眼神温柔的动漫自拍，仿佛真的是将军从遥远星球发来的回应。

最后，他拨打了大大怪将军的语音电话，AI模拟的大大怪声音响起，不仅念出了回信内容，还结合他信里的困惑补充道："下士，别着急'搞懂地球人'，先顾好你自己的'真诚能量'——等你啥时候想歇会儿，随时给我写信，灰心星球的信号永远为你通着！" 小宇听着，忽然觉得心里堵得慌的石头轻了些——就像真的有一位远方的伙伴，在陪着他琢磨这"难懂的地球"。

## 2. 功能规划、优先级与开发计划

### 核心功能列表

#### P0（必须拥有）- 核心功能
- **角色发现与搜索**：提供角色库，用户可浏览或搜索角色（如小小怪将军、哈利·波特、苏格拉底等）
- **文字聊天**：与AI角色进行实时文字对话
- **语音聊天（TTS & ASR）**：与AI角色进行实时语音对话
- **基础角色库**：预设多个经典角色，支持用户自定义角色

#### P1（应该拥有）- 增强体验
- **情感化内容生成**：AI生成回信/卡片，根据对话内容自动生成符合角色风格的长篇回信
- **记忆与上下文**：AI能记住近期对话内容，实现连续、有深度的交流
- **多模态交互**：支持图片上传，AI生成角色自拍融合用户输入元素

#### P2（将来拥有）- 扩展功能
- **用户创作与分享**：用户可以将精彩的对话、回信或生成的图片分享到社区
- **更复杂的长期记忆**：支持更长的对话历史记忆
- **更多角色技能**：角色具备更多互动能力

### 本次开发计划
基于现有项目基础，本次开发将重点完善以下功能：
1. 增强AI角色的角色扮演能力
2. 优化语音聊天体验
3. 实现3个以上AI角色技能
4. 完善用户界面和交互体验

## 3. LLM模型选择与对比

### 选择的LLM模型：DeepSeek-V3

### 对比分析

| 模型 | 中文能力 | 长上下文 | 成本控制 | 访问稳定性 | 角色扮演能力 |
|------|----------|----------|----------|------------|--------------|
| **DeepSeek-V3** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| GPT-4 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| Claude-3 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| 文心一言 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ |

### 选择理由
1. **中文能力卓越**：DeepSeek-V3在中文理解和生成方面表现出色，特别适合中文用户的情感交流
2. **长上下文支持**：支持128K上下文，能够记住更长的对话历史，实现深度角色扮演
3. **成本效益高**：相比GPT-4，成本控制更好，适合长期运营
4. **角色扮演能力强**：在情感表达和角色一致性方面表现优秀
5. **访问稳定性**：国内访问相对稳定，减少服务中断风险

## 4. AI角色技能期望

除了基础的语音聊天功能，AI角色还应具备以下技能：

### 已实现的技能
1. **情感共鸣与智慧引导**：能够理解用户情感，给予有深度的生活建议
2. **角色一致性保持**：始终保持在角色设定内，不跳出角色
3. **多模态内容生成**：结合用户上传的图片生成角色自拍

### 本次开发新增的3个技能
4. **个性化记忆能力**：记住用户的偏好和重要对话内容
5. **主动关怀技能**：在适当时候主动关心用户状态
6. **创意故事讲述**：能够根据用户兴趣讲述相关故事

## 技术架构设计

### 系统架构
```
前端 (Next.js) ←→ 后端 (Go) ←→ AI代理层 (Python) ←→ DeepSeek-V3 API
     ↓              ↓              ↓
  用户界面       业务逻辑       角色扮演处理
```

### 核心模块
1. **前端模块**：用户界面、语音录制/播放、角色展示
2. **后端模块**：用户管理、对话记录、文件存储
3. **AI代理模块**：角色扮演提示词生成、语音合成、内容生成
4. **数据库模块**：用户数据、角色信息、对话记录存储

### 技术栈
- **前端**：Next.js + TypeScript + Tailwind CSS
- **后端**：Go + Gin + GORM
- **AI代理**：Python + PocketFlow
- **数据库**：MySQL + Redis
- **存储**：MinIO
- **消息队列**：RabbitMQ
- **部署**：Docker + Docker Compose

## 项目特色

1. **深度角色扮演**：不仅仅是简单的问答，而是真正的角色沉浸体验
2. **情感化交互**：注重情感共鸣和心灵陪伴
3. **多模态体验**：文字、语音、图片的完整交互闭环
4. **个性化记忆**：AI能够记住用户偏好，提供个性化服务
5. **技术先进性**：采用现代化的微服务架构，保证系统稳定性和可扩展性

这个项目不仅是一个技术实现，更是一个能够为用户提供情感陪伴和心灵慰藉的AI角色扮演平台。
